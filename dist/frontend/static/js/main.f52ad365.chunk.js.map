{"version":3,"sources":["_constants/alertConstants.js","_helpers/history.js","actions/alertActions.js","_services/notificationService.js","actions/notificationActions.js","_constants/socketConstants.js","_constants/userConstants.js","_constants/postConstants.js","components/PrivateRoute.js","App.js","serviceWorker.js","reducers/authenticationReducer.js","reducers/postReducer.js","reducers/userProfileReducer.js","reducers/postUploadPageReducer.js","reducers/newUsersReducer.js","reducers/index.js","reducers/registrationReducer.js","reducers/userReducer.js","reducers/passwordResetReducer.js","reducers/alertReducer.js","reducers/commentReducer.js","reducers/commentRepliesReducer.js","reducers/notificationReducer.js","reducers/socketReducer.js","reducers/chatReducer.js","store.js","index.js","_constants/chatConstants.js","_constants/commentConstants.js","_constants/notificationConstants.js"],"names":["__webpack_require__","d","__webpack_exports__","alertConstants","SUCCESS","ERROR","CLEAR","history","history__WEBPACK_IMPORTED_MODULE_0__","createBrowserHistory","alertActions","_constants_alertConstants__WEBPACK_IMPORTED_MODULE_0__","success","message","type","error","clear","notificatonService","readNotifications","notificationIds","requestOptions","method","headers","Content-Type","Authorization","JSON","parse","localStorage","getItem","token","body","stringify","fetch","then","handleResponse","res","fetchNotifications","queryOptions","Object","objectSpread","data","response","text","ok","status","removeItem","window","location","reload","statusText","Promise","reject","notificationActions","toggleNotificationPopup","dispatch","notificationConstants","TOGGLE_NOTIFICATION_POPUP","closeNotificationPopup","CLOSE_NOTIFICATION_POPUP","addNotification","ADD_NOTIFICATION","initialFetch","_response$","notifications","total","ids","filter","e","read","map","_id","concat","uniqueIds","item","index","indexOf","undefined","READ_NOTIFICATIOS","readCount","length","console","log","FETCH_NOTIFICATIONS_SUCCESS","socketConstants","CONNECT","userConstants","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","GETUSER_REQUEST","GETUSER_SUCCESS","GETUSER_FAILURE","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAILURE","USER_UPDATE_PROFILEPICTURE_SUCCESS","USER_LIKE_COMMENT","USER_DISLIKE_COMMENT","USER_DISLIKE_POST","USER_LIKE_POST","USER_LIKE_COMMENT_REPLY","USER_DISLIKE_COMMENT_REPLY","GET_USERPROFILE_DATA_REQUEST","GET_USERPROFILE_DATA","GET_USERPROFILE_DATA_FAILURE","GET_USER_PROFILE_FOLLOWINGS","GET_USER_PROFILE_FOLLOWERS","GET_USER_FOLLOWINGS","GET_USER_FOLLOWERS","FOLLOW_USER","UNFOLLOW_USER","GET_POSTS","GET_USER_PROFILE_POSTS","PASSWORD_RESET_REQUEST","PASSWORD_RESET_RESPONSE","GET_NEW_USERS_SUCCESS","GET_NEW_USERS_REQUEST","NEW_USER","postConstants","POSTS_REQUEST","POSTS_SUCCESS","POSTS_FAILURE","HASHTAG_POSTS_SUCCESS","LOCATION_POSTS_SUCCESS","HASHTAG_POSTS_REQUEST","LOCATION_POSTS_REQUEST","ADD_POST_REQUEST","ADD_POST_SUCCESS","ADD_POST_FAILURE","POST_DELETE_REQUEST","POST_DELETE_SUCCESS","POST_DELETE_FAILURE","LIKE_POST","DISLIKE_POST","GET_POST_LIKES","INIT_COMMENT","NEW_POST","GET_POST","IMAGE_CROP_SELECT","IMAGE_SELECT","MAP_LOCATION_SELECT","CANVAS_HAS_VALUE","PrivateRoute","_ref","Component","component","rest","objectWithoutProperties","react_default","a","createElement","Route","assign","render","props","Redirect","to","pathname","state","from","NotFoundPage","lazy","bind","PasswordResetPage","all","HomePage","LoginPage","RegisterPage","ProfilePage","UserProfile","PostUploadPage","PostPage","HashtagPage","LocationPage","MessengerPage","Navbar","App","handleNotificationPopupClose","_this$props","_this","isOpen","this","addEventListener","listen","action","authentication","onClick","Router","react","fallback","loggedIn","Switch","PrivateRoute_PrivateRoute","exact","path","push","key","match","params","hashtag","postId","coordinates","username","React","connectedApp","connect","notification","Boolean","hostname","user","initialState","posts","postsByHashtag","postsByLocation","totalPosts","totalPostsByHashtag","totalPostsByLocation","postLikes","post","fetching","deleting","posting","loadingUser","profilePicture","firstName","lastName","email","bio","followings","followers","postsCount","follwingUsers","followerUsers","imgSrc","imgSrcExt","cropImgSrc","canvasHasValue","divs","step","uploading","locationName","users","fetchingNewUsers","usersCount","appReducer","combineReducers","arguments","count","toConsumableArray","commentConstants","ADD_COMMENT_SUCCESS","comment","comments","likes","loggingIn","registration","registering","updaingUser","hasError","allNotifications","notificationsCount","messagesCount","followingIds","commentLikes","commentReplyLikes","_action$user","commentId","userId","result","id","openedPost","loadingPost","chatConstants","INC_MESSAGE_COUNT","READ_MESSAGES","messageIds","newUsers","passwordReset","requesting","alert","FETCH_COMMENTS_REQUEST","defineProperty","FETCH_COMMENTS_SUCCESS","INCREASE_REPLIES_NUMBER","replies","LIKE_COMMENT","DISLIKE_COMMENT","GET_COMMENT_LIKES","FETCH_COMMENT_REPLIES_REQUEST","FETCH_COMMENT_REPLIES_SUCCESS","INIT_REPLY_COMMENT","ADD_REPLY_COMMENT_SUCCESS","commentAt","LIKE_COMMENT_REPLY","parentId","DISLIKE_COMMENT_REPLY","GET_COMMENT_REPLY_LIKES","userProfile","allNotificationsCount","socket","postUpload","div","hasValue","_action$location","geometry","chat","rooms","currentRoom","roomsFetching","roomId","callingModal","answeringModal","searchedRooms","TYPING","isTyping","STOPPED_TYPING","CHANGE_ROOM","room","INIT_MESSAGE_ARRAY","messages","initialMessagesFetchig","messageFetching","GET_ROOMS_REQUEST","GET_ROOMS_SUCCESS","ADD_NEW_ROOM","GET_MESSAGES_INITIAL_REQUEST","GET_MESSAGES_REQUEST","GET_MESSAGES_SUCCESS","prev","i","sender","picture","SEND_MESSAGE_REQUEST","_objectSpread8","SEND_MESSAGE_SUCCESS","_objectSpread9","findIndex","newRoom","uuid","lastMessage","NEW_MESSAGE","_objectSpread10","includes","CHANGE_ACTIVITY_STATUS","members","activityStatus","RECEIVE_READ_MESSAGES","OPEN_CALLING_MODAL","CLOSE_CALLING_MODAL","OPEN_ANSWERING_MODAL","webRtc","caller","CLOSE_ANSWERING_MODAL","SEARCH_USERS","rootReducer","middleware","thunk","store","createStore","compose","applyMiddleware","apply","ReactDOM","es","BrowserRouter","document","getElementById","navigator","serviceWorker","ready","unregister","NEW_ANSWER","NEW_IMAGE_MESSAGE_REQUEST","NEW_IMAGE_MESSAGE_SUCCESS","FETCH_COMMENTS_FAILURE","ADD_REPLY_COMMENT_FAILURE","FETCH_COMMENT_REPLIES_FAILURE","ADD_COMMENT_REQUEST","ADD_COMMENT_FAILURE","FETCH_NOTIFICATIONS_REQUEST"],"mappings":"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","file":"static/js/main.f52ad365.chunk.js","sourcesContent":["export const alertConstants = {\r\n  SUCCESS: \"ALERT_SUCCESS\",\r\n  ERROR: \"ALERT_ERROR\",\r\n  CLEAR: \"ALERT_CLEAR\"\r\n};\r\n","import { createBrowserHistory } from \"history\";\r\n\r\nexport const history = createBrowserHistory();\r\n","import { alertConstants } from \"../_constants/alertConstants\";\r\n\r\nexport const alertActions = {\r\n  success,\r\n  error,\r\n  clear\r\n};\r\n\r\nfunction success(message) {\r\n  return { type: alertConstants.SUCCESS, message };\r\n}\r\n\r\nfunction error(message) {\r\n  return { type: alertConstants.ERROR, message };\r\n}\r\n\r\nfunction clear() {\r\n  return { type: alertConstants.CLEAR };\r\n}\r\n","export const notificatonService = {\r\n  readNotifications,\r\n  fetchNotifications\r\n};\r\n\r\nfunction logout() {\r\n  // remove user from local storage to log user out\r\n  localStorage.removeItem(\"user\");\r\n}\r\n\r\nfunction readNotifications(notificationIds) {\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: JSON.parse(localStorage.getItem(\"user\")).token\r\n    },\r\n    body: JSON.stringify({\r\n      notificationIds\r\n    })\r\n  };\r\n\r\n  return fetch(\"/api/notification/readNotifications/\", requestOptions)\r\n    .then(handleResponse)\r\n    .then(res => {\r\n      return res;\r\n    });\r\n}\r\n\r\nfunction fetchNotifications(queryOptions) {\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: JSON.parse(localStorage.getItem(\"user\")).token\r\n    },\r\n    body: JSON.stringify({\r\n      ...queryOptions\r\n    })\r\n  };\r\n\r\n  return fetch(\"/api/notification/getNotifications/\", requestOptions)\r\n    .then(handleResponse)\r\n    .then(res => {\r\n      return res.data;\r\n    });\r\n}\r\n\r\nfunction handleResponse(response) {\r\n  return response.text().then(text => {\r\n    const data = text && JSON.parse(text);\r\n    if (!response.ok) {\r\n      if (response.status === 401) {\r\n        // auto logout if 401 response returned from api\r\n        logout();\r\n        window.location.reload(true);\r\n      }\r\n\r\n      const error = (data && data.message) || response.statusText;\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    return data;\r\n  });\r\n}\r\n","import { notificationConstants } from \"../_constants/notificationConstants\";\r\nimport { notificatonService } from \"../_services/notificationService\";\r\n\r\nexport const notificationActions = {\r\n  toggleNotificationPopup,\r\n  closeNotificationPopup,\r\n  addNotification,\r\n  fetchNotifications\r\n};\r\n\r\nfunction readNotifications(notificationIds) {\r\n  notificatonService.readNotifications(notificationIds).then(\r\n    () => {},\r\n    error => {\r\n      console.log(error);\r\n    }\r\n  );\r\n}\r\n\r\nfunction fetchNotifications(queryOptions, notificationIds) {\r\n  return dispatch => {\r\n    notificatonService.fetchNotifications(queryOptions).then(\r\n      response => {\r\n        if (queryOptions.initialFetch) {\r\n          const { notifications, total } = response[0];\r\n          dispatch(success(notifications, total[0], queryOptions.initialFetch));\r\n          // read notifications\r\n          const ids = notifications\r\n            .filter(e => !e.read)\r\n            .map(e => e._id)\r\n            .concat(notificationIds);\r\n          const uniqueIds = ids\r\n            .filter((item, index) => ids.indexOf(item) === index)\r\n            .filter(item => item !== undefined);\r\n          readNotifications(uniqueIds);\r\n\r\n          if (uniqueIds[0] !== undefined) {\r\n            dispatch({\r\n              type: notificationConstants.READ_NOTIFICATIOS,\r\n              readCount: uniqueIds.length\r\n            });\r\n          }\r\n        } else {\r\n          dispatch(success(response));\r\n          // read notifications\r\n          const ids = response\r\n            .filter(e => !e.read)\r\n            .map(e => e._id)\r\n            .concat(notificationIds);\r\n          const uniqueIds = ids\r\n            .filter((item, index) => ids.indexOf(item) === index)\r\n            .filter(item => item !== undefined);\r\n          readNotifications(uniqueIds);\r\n\r\n          if (uniqueIds[0] !== undefined) {\r\n            dispatch({\r\n              type: notificationConstants.READ_NOTIFICATIOS,\r\n              readCount: uniqueIds.length\r\n            });\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  };\r\n\r\n  function success(notifications, total, initialFetch) {\r\n    return {\r\n      type: notificationConstants.FETCH_NOTIFICATIONS_SUCCESS,\r\n      notifications,\r\n      total,\r\n      initialFetch\r\n    };\r\n  }\r\n}\r\n\r\nfunction toggleNotificationPopup() {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: notificationConstants.TOGGLE_NOTIFICATION_POPUP\r\n    });\r\n  };\r\n}\r\n\r\nfunction closeNotificationPopup() {\r\n  return dispatch => {\r\n    dispatch({ type: notificationConstants.CLOSE_NOTIFICATION_POPUP });\r\n  };\r\n}\r\n\r\nfunction addNotification(data) {\r\n  return dispatch => {\r\n    dispatch({ type: notificationConstants.ADD_NOTIFICATION, data });\r\n  };\r\n}\r\n","export const socketConstants = {\r\n  CONNECT: \"CONNECT\"\r\n};\r\n","export const userConstants = {\r\n  REGISTER_REQUEST: \"USERS_REGISTER_REQUEST\",\r\n  REGISTER_SUCCESS: \"USERS_REGISTER_SUCCESS\",\r\n  REGISTER_FAILURE: \"USERS_REGISTER_FAILURE\",\r\n\r\n  LOGIN_REQUEST: \"USERS_LOGIN_REQUEST\",\r\n  LOGIN_SUCCESS: \"USERS_LOGIN_SUCCESS\",\r\n  LOGIN_FAILURE: \"USERS_LOGIN_FAILURE\",\r\n\r\n  LOGOUT: \"USERS_LOGOUT\",\r\n\r\n  GETUSER_REQUEST: \"USER_GETUSER_REQUEST\",\r\n  GETUSER_SUCCESS: \"USER_GETUSER_SUCCESS\",\r\n  GETUSER_FAILURE: \"USER_GETUSER_FAILURE\",\r\n\r\n  DELETE_REQUEST: \"USERS_DELETE_REQUEST\",\r\n  DELETE_SUCCESS: \"USERS_DELETE_SUCCESS\",\r\n  DELETE_FAILURE: \"USERS_DELETE_FAILURE\",\r\n\r\n  USER_UPDATE_REQUEST: \"USER_UPDATE_REQUEST\",\r\n  USER_UPDATE_SUCCESS: \"USER_UPDATE_SUCCESS\",\r\n  USER_UPDATE_FAILURE: \"USER_UPDATE_FAILURE\",\r\n\r\n  USER_UPDATE_PROFILEPICTURE_SUCCESS: \"USER_UPDATE_PROFILEPICTURE_SUCCESS\",\r\n\r\n  USER_LIKE_COMMENT: \"USER_LIKE_COMMENT\",\r\n  USER_DISLIKE_COMMENT: \"USER_DISLIKE_COMMENT\",\r\n\r\n  USER_DISLIKE_POST: \"USER_DISLIKE_POST\",\r\n  USER_LIKE_POST: \"USER_LIKE_POST\",\r\n\r\n  USER_LIKE_COMMENT_REPLY: \"USER_LIKE_COMMENT_REPLY\",\r\n  USER_DISLIKE_COMMENT_REPLY: \"USER_DISLIKE_COMMENT_REPLY\",\r\n\r\n  GET_USERPROFILE_DATA_REQUEST: \"GET_USERPROFILE_DATA_REQUEST\",\r\n  GET_USERPROFILE_DATA: \"GET_USERPROFILE_DATA\",\r\n  GET_USERPROFILE_DATA_FAILURE: \"GET_USERPROFILE_DATA_FAILURE\",\r\n\r\n  GET_USER_PROFILE_FOLLOWINGS: \"GET_USER_PROFILE_FOLLOWINGS\",\r\n  GET_USER_PROFILE_FOLLOWERS: \"GET_USER_PROFILE_FOLLOWERS\",\r\n\r\n  GET_USER_FOLLOWINGS: \"GET_USER_FOLLOWINGS\",\r\n  GET_USER_FOLLOWERS: \"GET_USER_FOLLOWERS\",\r\n\r\n  FOLLOW_USER: \"FOLLOW_USER\",\r\n  UNFOLLOW_USER: \"UNFOLLOW_USER\",\r\n\r\n  GET_POSTS: \"GET_POSTS\",\r\n  GET_USER_PROFILE_POSTS: \"GET_USER_PROFILE_POSTS\",\r\n\r\n  PASSWORD_RESET_REQUEST: \"PASSWORD_RESET_REQUEST\",\r\n  PASSWORD_RESET_RESPONSE: \"PASSWORD_RESET_RESPONSE\",\r\n\r\n  GET_NEW_USERS_SUCCESS: \"GET_NEW_USERS_SUCCESS\",\r\n  GET_NEW_USERS_REQUEST: \"GET_NEW_USERS_REQUEST\",\r\n  NEW_USER: \"NEW_USER\",\r\n};\r\n","export const postConstants = {\r\n  POSTS_REQUEST: \"POSTS_REQUEST\",\r\n  POSTS_SUCCESS: \"POSTS_SUCCESS\",\r\n  POSTS_FAILURE: \"POSTS_FAILURE\",\r\n\r\n  HASHTAG_POSTS_SUCCESS: \"HASHTAG_POSTS_SUCCESS\",\r\n  LOCATION_POSTS_SUCCESS: \"LOCATION_POSTS_SUCCESS\",\r\n\r\n  HASHTAG_POSTS_REQUEST: \"HASHTAG_POSTS_REQUEST\",\r\n  LOCATION_POSTS_REQUEST: \"LOCATION_POSTS_REQUEST\",\r\n\r\n  ADD_POST_REQUEST: \"ADD_POST_REQUEST\",\r\n  ADD_POST_SUCCESS: \"ADD_POST_SUCCESS\",\r\n  ADD_POST_FAILURE: \"ADD_POST_FAILURE\",\r\n\r\n  POST_DELETE_REQUEST: \"POSTS_DELETE_REQUEST\",\r\n  POST_DELETE_SUCCESS: \"POSTS_DELETE_SUCCESS\",\r\n  POST_DELETE_FAILURE: \"POSTS_DELETE_FAILURE\",\r\n\r\n  LIKE_POST: \"LIKE_POST\",\r\n  DISLIKE_POST: \"DISLIKE_POST\",\r\n\r\n  GET_POST_LIKES: \"GET_POST_LIKES\",\r\n\r\n  INIT_COMMENT: \"INIT_COMMENT\",\r\n\r\n  NEW_POST: \"NEW_POST\",\r\n  GET_POST: \"GET_POST\",\r\n\r\n  //edit post page\r\n  IMAGE_CROP_SELECT: \"IMAGE_CROP_SELECT\",\r\n  IMAGE_SELECT: \"IMAGE_SELECT\",\r\n  MAP_LOCATION_SELECT: \"MAP_LOCATION_SELECT\",\r\n  CANVAS_HAS_VALUE: \"CANVAS_HAS_VALUE\"\r\n  //-----------\r\n};\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      localStorage.getItem(\"user\") ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{ pathname: \"/login\", state: { from: props.location } }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n","import React, { Fragment, Suspense, lazy } from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { history } from \"./_helpers/history\";\r\nimport { alertActions } from \"./actions/alertActions\";\r\nimport { notificationActions } from \"./actions//notificationActions\";\r\nimport { PrivateRoute } from \"./components/PrivateRoute\";\r\nimport \"./styles/index.css\";\r\n\r\nconst NotFoundPage = lazy(() => import(\"./NotFoundPage/NotFoundPage\"));\r\nconst PasswordResetPage = lazy(() =>\r\n  import(\"./PasswordResetPage/PasswordResetPage\")\r\n);\r\nconst HomePage = lazy(() => import(\"./HomePage/HomePage\"));\r\nconst LoginPage = lazy(() => import(\"./LoginPage/LoginPage\"));\r\nconst RegisterPage = lazy(() => import(\"./RegisterPage/RegisterPage\"));\r\nconst ProfilePage = lazy(() => import(\"./ProfilePage/ProfilePage\"));\r\nconst UserProfile = lazy(() => import(\"./UserProfile/UserProfile\"));\r\nconst PostUploadPage = lazy(() => import(\"./PostUploadPage/PostUploadPage\"));\r\nconst PostPage = lazy(() => import(\"./PostPage/PostPage\"));\r\nconst HashtagPage = lazy(() => import(\"./HashtagPage/HashtagPage\"));\r\nconst LocationPage = lazy(() => import(\"./LocationPage/LocationPage\"));\r\nconst MessengerPage = lazy(() => import(\"./MessengerPage/MessengerPage\"));\r\nconst Navbar = lazy(() => import(\"./components/Navbar\"));\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    const { dispatch } = this.props;\r\n    window.addEventListener(\"scroll\", this.handleNotificationPopupClose);\r\n    history.listen((location, action) => {\r\n      // clear alert on location change\r\n      dispatch(alertActions.clear());\r\n    });\r\n  }\r\n\r\n  handleNotificationPopupClose = () => {\r\n    const { dispatch, isOpen } = this.props;\r\n    if (isOpen) {\r\n      dispatch(notificationActions.closeNotificationPopup());\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { authentication } = this.props;\r\n\r\n    return (\r\n      <div onClick={this.handleNotificationPopupClose}>\r\n        <Router history={history}>\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <Fragment>\r\n              {authentication.loggedIn ? <Navbar /> : null}\r\n              <Switch>\r\n                <PrivateRoute exact path=\"/\" component={HomePage} />\r\n                <Route exact path=\"/login\" render={() => <LoginPage />} />\r\n                <Route exact path=\"/register\" render={() => <RegisterPage />} />\r\n                <PrivateRoute exact path=\"/profile\" component={ProfilePage} />\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/posts/upload\"\r\n                  component={PostUploadPage}\r\n                />\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/messages/chat\"\r\n                  component={MessengerPage}\r\n                />\r\n                <Route\r\n                  path=\"/hashtags/:hashtag\"\r\n                  render={(props) => {\r\n                    if (!localStorage.getItem(\"user\")) {\r\n                      history.push(\"/login\");\r\n                      window.location.reload();\r\n                    }\r\n                    return (\r\n                      <HashtagPage\r\n                        key={props.match.params.hashtag}\r\n                        {...props}\r\n                      />\r\n                    );\r\n                  }}\r\n                />\r\n                <Route\r\n                  path=\"/p/:postId\"\r\n                  render={(props) => {\r\n                    if (!localStorage.getItem(\"user\")) {\r\n                      history.push(\"/login\");\r\n                      window.location.reload();\r\n                    }\r\n                    return (\r\n                      <PostPage key={props.match.params.postId} {...props} />\r\n                    );\r\n                  }}\r\n                />\r\n                <Route\r\n                  path=\"/location/:coordinates\"\r\n                  render={(props) => {\r\n                    if (!localStorage.getItem(\"user\")) {\r\n                      history.push(\"/login\");\r\n                      window.location.reload();\r\n                    }\r\n                    return (\r\n                      <LocationPage\r\n                        key={props.match.params.coordinates}\r\n                        {...props}\r\n                      />\r\n                    );\r\n                  }}\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/:username\"\r\n                  render={(props) => {\r\n                    if (!localStorage.getItem(\"user\")) {\r\n                      history.push(\"/login\");\r\n                      window.location.reload();\r\n                    }\r\n                    return (\r\n                      <UserProfile\r\n                        key={props.match.params.username}\r\n                        {...props}\r\n                      />\r\n                    );\r\n                  }}\r\n                />\r\n\r\n                <Route\r\n                  exact\r\n                  path=\"/auth/reset/password/:jwt\"\r\n                  render={(props) => <PasswordResetPage {...props} />}\r\n                />\r\n                <Route render={() => <NotFoundPage />} />\r\n              </Switch>\r\n            </Fragment>\r\n          </Suspense>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  authentication: state.authentication,\r\n  isOpen: state.notification.isOpen,\r\n});\r\n\r\nconst connectedApp = connect(mapStateToProps)(App);\r\nexport { connectedApp as App };\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { userConstants } from \"../_constants/userConstants\";\r\n\r\nlet user = JSON.parse(localStorage.getItem(\"user\"));\r\nconst initialState = user ? { loggedIn: true, user } : {};\r\n\r\nexport function authentication(state = initialState, action) {\r\n  switch (action.type) {\r\n    case userConstants.LOGIN_REQUEST:\r\n      return {\r\n        loggingIn: true\r\n      };\r\n    case userConstants.LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loggedIn: true,\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_FAILURE:\r\n      return {};\r\n    case userConstants.LOGOUT:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { postConstants } from \"../_constants/postConstants\";\r\nimport { commentConstants } from \"../_constants/commentConstants\";\r\n\r\nconst initialState = {\r\n  posts: [],\r\n  postsByHashtag: [],\r\n  postsByLocation: [],\r\n  totalPosts: 0,\r\n  totalPostsByHashtag: 0,\r\n  totalPostsByLocation: 0,\r\n  coordinates: null,\r\n  hashtag: null,\r\n  postLikes: [],\r\n  post: {\r\n    fetching: true\r\n  },\r\n  fetching: false,\r\n  deleting: false,\r\n  posting: false\r\n};\r\n\r\nexport function post(state = initialState, action) {\r\n  switch (action.type) {\r\n    case postConstants.POSTS_REQUEST:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case postConstants.LOCATION_POSTS_REQUEST:\r\n      if (action.initialFetch) {\r\n        return {\r\n          ...state,\r\n          postsByLocation: [],\r\n          totalPostsByLocation: 0,\r\n          coordinates: null\r\n        };\r\n      }\r\n      return {\r\n        ...state\r\n      };\r\n    case postConstants.HASHTAG_POSTS_REQUEST:\r\n      if (action.initialFetch) {\r\n        return {\r\n          ...state,\r\n          postsByHashtag: [],\r\n          totalPostsByHashtag: 0,\r\n          hashtag: null\r\n        };\r\n      }\r\n      return {\r\n        ...state\r\n      };\r\n    case postConstants.POSTS_SUCCESS:\r\n      if (action.initialFetch) {\r\n        return {\r\n          ...state,\r\n          posts: action.posts,\r\n          totalPosts: action.total.count,\r\n          fetching: false\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, ...action.posts],\r\n        fetching: false\r\n      };\r\n    case postConstants.HASHTAG_POSTS_SUCCESS:\r\n      if (action.initialFetch) {\r\n        return {\r\n          ...state,\r\n          postsByHashtag: action.posts,\r\n          hashtag: action.hashtag,\r\n          totalPostsByHashtag: action.total.count,\r\n          fetching: false\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        postsByHashtag: [...state.postsByHashtag, ...action.posts],\r\n        fetching: false\r\n      };\r\n    case postConstants.LOCATION_POSTS_SUCCESS:\r\n      if (action.initialFetch) {\r\n        return {\r\n          ...state,\r\n          postsByLocation: action.posts,\r\n          coordinates: action.coordinates,\r\n          totalPostsByLocation: action.total.count,\r\n          fetching: false\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        postsByLocation: [...state.postsByLocation, ...action.posts],\r\n        fetching: false\r\n      };\r\n    case postConstants.GET_POST_LIKES:\r\n      return {\r\n        ...state,\r\n        postLikes: [...state.postLikes, ...action.postLikes]\r\n      };\r\n    case \"CLEAR_POSTS\":\r\n      return {\r\n        ...state,\r\n        ...initialState\r\n      };\r\n    case \"CLEAR_POST_LIKES\":\r\n      return {\r\n        ...state,\r\n        postLikes: []\r\n      };\r\n\r\n    case postConstants.POST_DELETE_REQUEST:\r\n      return {\r\n        ...state,\r\n        deleting: true\r\n      };\r\n    case postConstants.POST_DELETE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        deleting: false,\r\n        post: {\r\n          fetching: true\r\n        }\r\n      };\r\n    case commentConstants.ADD_COMMENT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map(post => {\r\n          if (post._id === action.comment.post) {\r\n            return { ...post, comments: post.comments + 1 };\r\n          } else {\r\n            return post;\r\n          }\r\n        }),\r\n        post: {\r\n          ...state.post,\r\n          comments: state.post.comments + 1\r\n        }\r\n      };\r\n\r\n    case postConstants.LIKE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map(post => {\r\n          if (post._id === action.post.postId) {\r\n            return { ...post, likes: post.likes + 1 };\r\n          } else {\r\n            return post;\r\n          }\r\n        }),\r\n        post: {\r\n          ...state.post,\r\n          likes: state.post.likes + 1\r\n        }\r\n      };\r\n    case postConstants.DISLIKE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map(post => {\r\n          if (post._id === action.post.postId) {\r\n            return { ...post, likes: post.likes - 1 };\r\n          } else {\r\n            return post;\r\n          }\r\n        }),\r\n        post: {\r\n          ...state.post,\r\n          likes: state.post.likes - 1\r\n        }\r\n      };\r\n    case postConstants.GET_POST:\r\n      return {\r\n        ...state,\r\n        post: { ...action.post[0], fetching: false }\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { userConstants } from \"../_constants/userConstants\";\r\nimport { postConstants } from \"../_constants/postConstants\";\r\nimport { commentConstants } from \"../_constants/commentConstants\";\r\n\r\nconst initialState = {\r\n  loadingUser: true,\r\n  data: {\r\n    profilePicture: \"person.png\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    bio: \"\",\r\n    followings: 0,\r\n    followers: 0,\r\n    postsCount: 0,\r\n    follwingUsers: [],\r\n    followerUsers: [],\r\n    posts: [],\r\n  },\r\n};\r\n\r\nexport function userProfile(state = initialState, action) {\r\n  switch (action.type) {\r\n    case userConstants.GET_USERPROFILE_DATA_REQUEST:\r\n      return {\r\n        ...state,\r\n        ...initialState,\r\n      };\r\n\r\n    case userConstants.GET_USERPROFILE_DATA:\r\n      return {\r\n        ...state,\r\n        loadingUser: false,\r\n        data: {\r\n          ...state.data,\r\n          ...action.user.user,\r\n        },\r\n      };\r\n    case userConstants.GET_USERPROFILE_DATA_FAILURE:\r\n      return {\r\n        ...state,\r\n        loadingUser: false,\r\n      };\r\n    case userConstants.GET_USER_PROFILE_FOLLOWINGS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          follwingUsers: action.users,\r\n        },\r\n      };\r\n    case userConstants.GET_USER_PROFILE_POSTS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          posts: [...state.data.posts, ...action.posts],\r\n        },\r\n      };\r\n\r\n    case userConstants.GET_USER_PROFILE_FOLLOWERS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          followerUsers: action.users,\r\n        },\r\n      };\r\n    case postConstants.LIKE_POST:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          posts: state.data.posts.map((post) => {\r\n            if (post._id === action.post.postId) {\r\n              return {\r\n                ...post,\r\n                likes: post.likes + 1,\r\n              };\r\n            }\r\n            return {\r\n              ...post,\r\n            };\r\n          }),\r\n        },\r\n      };\r\n    case postConstants.DISLIKE_POST:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          posts: state.data.posts.map((post) => {\r\n            if (post._id === action.post.postId) {\r\n              return {\r\n                ...post,\r\n                likes: post.likes - 1,\r\n              };\r\n            }\r\n            return {\r\n              ...post,\r\n            };\r\n          }),\r\n        },\r\n      };\r\n    case userConstants.FOLLOW_USER:\r\n      if (action.user.userId === state.data._id) {\r\n        return {\r\n          ...state,\r\n          data: {\r\n            ...state.data,\r\n            followers: state.data.followers + 1,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n    case commentConstants.ADD_COMMENT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          posts: state.data.posts.map((post) => {\r\n            if (post._id === action.comment.post) {\r\n              return { ...post, comments: post.comments + 1 };\r\n            } else {\r\n              return post;\r\n            }\r\n          }),\r\n        },\r\n      };\r\n    case userConstants.UNFOLLOW_USER:\r\n      if (action.user.userId === state.data._id) {\r\n        return {\r\n          ...state,\r\n          data: {\r\n            ...state.data,\r\n            followers: state.data.followers - 1,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { postConstants } from \"../_constants/postConstants\";\r\n\r\nconst initialState = {\r\n  imgSrc: null,\r\n  imgSrcExt: null,\r\n  cropImgSrc: null,\r\n  canvasHasValue: false,\r\n  divs: [],\r\n  step: 0,\r\n  uploading: false,\r\n  location: {\r\n    coordinates: [],\r\n    locationName: \"\"\r\n  }\r\n};\r\n\r\nexport function postUpload(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"RESET_IMAGE\":\r\n      return {\r\n        ...state,\r\n        ...initialState\r\n      };\r\n    case \"PREVIOUS_PAGE\":\r\n      if (state.step > 0) {\r\n        return {\r\n          ...state,\r\n          step: state.step - 1,\r\n          divs: []\r\n        };\r\n      } else {\r\n        return {\r\n          ...state\r\n        };\r\n      }\r\n    case \"NEXT_PAGE\":\r\n      if (state.step < 1) {\r\n        return {\r\n          ...state,\r\n          step: state.step + 1\r\n        };\r\n      } else {\r\n        return {\r\n          ...state\r\n        };\r\n      }\r\n    case \"ADD_IMAGE_TAG\":\r\n      return {\r\n        ...state,\r\n        divs: [...state.divs, action.div]\r\n      };\r\n\r\n    case \"DELETE_IMAGE_TAG\":\r\n      return {\r\n        ...state,\r\n        divs: state.divs.filter(({ id }) => id !== action.id)\r\n      };\r\n    case postConstants.ADD_POST_REQUEST:\r\n      return {\r\n        ...state,\r\n        uploading: true\r\n      };\r\n\r\n    case postConstants.CANVAS_HAS_VALUE:\r\n      return {\r\n        ...state,\r\n        canvasHasValue: action.hasValue\r\n      };\r\n    case postConstants.IMAGE_SELECT:\r\n      return {\r\n        ...state,\r\n        imgSrc: action.imgSrc,\r\n        imgSrcExt: action.imgSrcExt\r\n      };\r\n    case postConstants.IMAGE_CROP_SELECT:\r\n      return {\r\n        ...state,\r\n        cropImgSrc: action.imgSrc\r\n      };\r\n\r\n    case postConstants.MAP_LOCATION_SELECT:\r\n      const { text, geometry } = action.location;\r\n      return {\r\n        ...state,\r\n        location: {\r\n          ...state.location,\r\n          coordinates: geometry.coordinates,\r\n          locationName: text\r\n        }\r\n      };\r\n    case postConstants.ADD_POST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...initialState,\r\n        step: 0,\r\n        uploading: false\r\n      };\r\n    case postConstants.ADD_POST_FAILURE:\r\n      return {\r\n        ...state,\r\n        uploading: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { userConstants } from \"../_constants/userConstants\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  fetching: true,\r\n  fetchingNewUsers: false,\r\n  usersCount: 0\r\n};\r\n\r\nexport function newUsers(state = initialState, action) {\r\n  switch (action.type) {\r\n    case userConstants.GET_NEW_USERS_SUCCESS:\r\n      if (action.data.initialFetch) {\r\n        return {\r\n          ...state,\r\n          users: [...action.data.users, ...state.users],\r\n          usersCount: action.data.usersCount,\r\n          fetching: false\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        users: [...state.users, ...action.data.users],\r\n        fetchingNewUsers: false\r\n      };\r\n    case userConstants.GET_NEW_USERS_REQUEST:\r\n      return {\r\n        ...state,\r\n        fetchingNewUsers: true\r\n      };\r\n    case userConstants.NEW_USER:\r\n      return {\r\n        ...state,\r\n        users: [action.user, ...state.users],\r\n        usersCount: state.usersCount + 1\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport { authentication } from \"./authenticationReducer\";\r\nimport { registration } from \"./registrationReducer\";\r\nimport { user } from \"./userReducer\";\r\nimport { alert } from \"./alertReducer\";\r\nimport { post } from \"./postReducer\";\r\nimport { comments } from \"./commentReducer\";\r\nimport { replies } from \"./commentRepliesReducer\";\r\nimport { userProfile } from \"./userProfileReducer\";\r\nimport { notification } from \"./notificationReducer\";\r\nimport { socket } from \"./socketReducer\";\r\nimport { postUpload } from \"./postUploadPageReducer\";\r\nimport { chat } from \"./chatReducer\";\r\nimport { newUsers } from \"./newUsersReducer\";\r\nimport { passwordReset } from \"./passwordResetReducer\";\r\nimport { userConstants } from \"../_constants/userConstants\";\r\n\r\nconst appReducer = combineReducers({\r\n  post,\r\n  authentication,\r\n  registration,\r\n  user,\r\n  newUsers,\r\n  passwordReset,\r\n  alert,\r\n  comments,\r\n  replies,\r\n  userProfile,\r\n  notification,\r\n  socket,\r\n  postUpload,\r\n  chat,\r\n});\r\n\r\nconst rootReducer = (state, action) => {\r\n  if (action.type === userConstants.LOGOUT) {\r\n    state = undefined;\r\n  }\r\n\r\n  return appReducer(state, action);\r\n};\r\n\r\nexport default rootReducer;\r\n","import { userConstants } from \"../_constants/userConstants\";\r\n\r\nexport function registration(state = {}, action) {\r\n  switch (action.type) {\r\n    case userConstants.REGISTER_REQUEST:\r\n      return { registering: true };\r\n    case userConstants.REGISTER_SUCCESS:\r\n      return {};\r\n    case userConstants.REGISTER_FAILURE:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { userConstants } from \"../_constants/userConstants\";\r\nimport { postConstants } from \"../_constants/postConstants\";\r\nimport { commentConstants } from \"../_constants/commentConstants\";\r\nimport { notificationConstants } from \"../_constants/notificationConstants\";\r\nimport { chatConstants } from \"../_constants/chatConstants\";\r\n\r\nexport function user(\r\n  state = {\r\n    loadingUser: true,\r\n    updaingUser: false,\r\n    deleting: false,\r\n    hasError: false,\r\n    data: {\r\n      _id: \"\",\r\n      username: \"\",\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      email: \"\",\r\n      profilePicture: \"person.png\",\r\n      bio: \"\",\r\n      followers: 0,\r\n      followings: 0,\r\n      postsCount: 0,\r\n      allNotifications: 0,\r\n      notificationsCount: 0,\r\n      messagesCount: 0,\r\n      followingIds: [],\r\n      posts: [],\r\n      follwingUsers: [],\r\n      followerUsers: [],\r\n      notifications: [],\r\n      postLikes: [],\r\n      commentLikes: [],\r\n      commentReplyLikes: [],\r\n    },\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case userConstants.GETUSER_REQUEST:\r\n      return {\r\n        ...state,\r\n        loadingUser: true,\r\n      };\r\n    case userConstants.USER_UPDATE_REQUEST: {\r\n      return {\r\n        ...state,\r\n        updaingUser: true,\r\n      };\r\n    }\r\n    case userConstants.USER_UPDATE_SUCCESS:\r\n      const { firstName, lastName, username, email, bio } = action.user;\r\n      return {\r\n        ...state,\r\n        updaingUser: false,\r\n        hasError: false,\r\n        data: {\r\n          ...state.data,\r\n          firstName,\r\n          lastName,\r\n          username,\r\n          email,\r\n          bio,\r\n        },\r\n      };\r\n    case userConstants.USER_UPDATE_FAILURE:\r\n      return {\r\n        ...state,\r\n        updaingUser: false,\r\n        hasError: action.error,\r\n      };\r\n    case userConstants.GETUSER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          ...action.user,\r\n        },\r\n        loadingUser: false,\r\n      };\r\n    case userConstants.USER_UPDATE_PROFILEPICTURE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          profilePicture: action.user.profilePicture,\r\n        },\r\n        loadingUser: false,\r\n      };\r\n    case userConstants.USER_LIKE_COMMENT:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          commentLikes: [...state.data.commentLikes, action.comment.commentId],\r\n        },\r\n      };\r\n\r\n    case userConstants.USER_DISLIKE_COMMENT:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          commentLikes: state.data.commentLikes.filter(\r\n            (e) => e !== action.comment.commentId\r\n          ),\r\n        },\r\n      };\r\n\r\n    case userConstants.USER_LIKE_COMMENT_REPLY:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          commentReplyLikes: [\r\n            ...state.data.commentReplyLikes,\r\n            action.comment.commentId,\r\n          ],\r\n        },\r\n      };\r\n\r\n    case userConstants.USER_DISLIKE_COMMENT_REPLY:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          commentReplyLikes: state.data.commentReplyLikes.filter(\r\n            (e) => e !== action.comment.commentId\r\n          ),\r\n        },\r\n      };\r\n    case commentConstants.ADD_COMMENT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          posts: state.data.posts.map((post) => {\r\n            if (post._id === action.comment.post) {\r\n              return { ...post, comments: post.comments + 1 };\r\n            } else {\r\n              return post;\r\n            }\r\n          }),\r\n        },\r\n      };\r\n    case postConstants.LIKE_POST:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          postLikes: [...state.data.postLikes, action.post.postId],\r\n          posts: state.data.posts.map((post) => {\r\n            if (post._id === action.post.postId) {\r\n              return {\r\n                ...post,\r\n                likes: post.likes + 1,\r\n              };\r\n            }\r\n            return {\r\n              ...post,\r\n            };\r\n          }),\r\n        },\r\n      };\r\n\r\n    case postConstants.DISLIKE_POST:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          postLikes: state.data.postLikes.filter(\r\n            (e) => e !== action.post.postId\r\n          ),\r\n          posts: state.data.posts.map((post) => {\r\n            if (post._id === action.post.postId) {\r\n              return {\r\n                ...post,\r\n                likes: post.likes - 1,\r\n              };\r\n            }\r\n            return {\r\n              ...post,\r\n            };\r\n          }),\r\n        },\r\n      };\r\n\r\n    case userConstants.FOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          followingIds: [...state.data.followingIds, action.user.userId],\r\n        },\r\n      };\r\n    case userConstants.UNFOLLOW_USER:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          followingIds: state.data.followingIds.filter(\r\n            (e) => e !== action.user.userId\r\n          ),\r\n        },\r\n      };\r\n    case userConstants.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          posts: [...state.data.posts, ...action.posts],\r\n        },\r\n      };\r\n    case postConstants.ADD_POST_REQUEST:\r\n      return {\r\n        ...state,\r\n        posting: true,\r\n      };\r\n    case postConstants.ADD_POST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          posts: [action.post, ...state.data.posts],\r\n          postsCount: state.data.postsCount + 1,\r\n        },\r\n        posting: false,\r\n      };\r\n    case notificationConstants.READ_NOTIFICATIOS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          notificationsCount: state.data.notificationsCount - action.readCount,\r\n        },\r\n      };\r\n    case postConstants.POST_DELETE_REQUEST:\r\n      return {\r\n        ...state,\r\n        deleting: true,\r\n      };\r\n    case postConstants.POST_DELETE_SUCCESS:\r\n      return {\r\n        ...state,\r\n\r\n        data: {\r\n          ...state.data,\r\n          posts: state.data.posts.filter(\r\n            (post) => post._id !== action.result.id\r\n          ),\r\n          postsCount: state.data.postsCount - 1,\r\n        },\r\n        deleting: false,\r\n      };\r\n\r\n    case notificationConstants.ADD_NOTIFICATION:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          notificationsCount: state.data.notificationsCount + 1,\r\n        },\r\n      };\r\n    case postConstants.GET_POST:\r\n      return {\r\n        ...state,\r\n        openedPost: {\r\n          ...state.openedPost,\r\n          loadingPost: false,\r\n          data: action.post[0],\r\n        },\r\n      };\r\n    case userConstants.GET_USER_FOLLOWERS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          followerUsers: action.users,\r\n        },\r\n      };\r\n    case userConstants.GET_USER_FOLLOWINGS:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          follwingUsers: action.users,\r\n        },\r\n      };\r\n\r\n    case chatConstants.INC_MESSAGE_COUNT:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          messagesCount: state.data.messagesCount + 1,\r\n        },\r\n      };\r\n    case chatConstants.READ_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: {\r\n          ...state.data,\r\n          messagesCount: state.data.messagesCount - action.messageIds.length,\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { userConstants } from \"../_constants/userConstants\";\r\n\r\nexport function passwordReset(\r\n  state = {\r\n    requesting: false,\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case userConstants.PASSWORD_RESET_REQUEST:\r\n      return { ...state, requesting: true };\r\n    case userConstants.PASSWORD_RESET_RESPONSE:\r\n      return { ...state, requesting: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { alertConstants } from \"../_constants/alertConstants\";\r\n\r\nexport function alert(state = {}, action) {\r\n  switch (action.type) {\r\n    case alertConstants.SUCCESS:\r\n      return {\r\n        type: \"success\",\r\n        message: action.message\r\n      };\r\n    case alertConstants.ERROR:\r\n      return {\r\n        type: \"error\",\r\n        message: action.message\r\n      };\r\n    case alertConstants.CLEAR:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { commentConstants } from \"../_constants/commentConstants\";\r\nimport { postConstants } from \"../_constants/postConstants\";\r\n\r\nexport function comments(state = { commentLikes: [] }, action) {\r\n  switch (action.type) {\r\n    case commentConstants.FETCH_COMMENTS_REQUEST:\r\n      return {\r\n        ...state,\r\n        [action.postId]: {\r\n          ...state[action.postId],\r\n          fetching: true\r\n        }\r\n      };\r\n\r\n    case commentConstants.FETCH_COMMENTS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        [action.comment.postId]: {\r\n          ...state[action.comment.postId],\r\n          fetching: false,\r\n          comments: [\r\n            ...state[action.comment.postId].comments,\r\n            ...action.comment.comments\r\n          ]\r\n        }\r\n      };\r\n\r\n    case postConstants.INIT_COMMENT:\r\n      if (!state[[action.postId]]) {\r\n        return {\r\n          ...state,\r\n          [action.postId]: {\r\n            fetching: false,\r\n            comments: []\r\n          }\r\n        };\r\n      } else {\r\n        return { ...state };\r\n      }\r\n\r\n    case commentConstants.INCREASE_REPLIES_NUMBER:\r\n      return {\r\n        ...state,\r\n        [action.postId]: {\r\n          ...state[action.postId],\r\n          comments: state[action.postId].comments.map(comment => {\r\n            if (comment._id === action.commentId) {\r\n              return { ...comment, replies: comment.replies + 1 };\r\n            } else {\r\n              return comment;\r\n            }\r\n          })\r\n        }\r\n      };\r\n\r\n    case commentConstants.ADD_COMMENT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        [action.comment.post]: {\r\n          ...state[action.comment.post],\r\n          fetching: false,\r\n          comments: [action.comment, ...state[action.comment.post].comments]\r\n        }\r\n      };\r\n\r\n    case commentConstants.LIKE_COMMENT:\r\n      return {\r\n        ...state,\r\n        [action.comment.postId]: {\r\n          ...state[action.comment.postId],\r\n          comments: state[action.comment.postId].comments.map(comment => {\r\n            if (comment._id === action.comment.commentId) {\r\n              return { ...comment, likes: comment.likes + 1 };\r\n            } else {\r\n              return comment;\r\n            }\r\n          })\r\n        }\r\n      };\r\n\r\n    case commentConstants.DISLIKE_COMMENT:\r\n      return {\r\n        ...state,\r\n        [action.comment.postId]: {\r\n          ...state[action.comment.postId],\r\n          comments: state[action.comment.postId].comments.map(comment => {\r\n            if (comment._id === action.comment.commentId) {\r\n              return { ...comment, likes: comment.likes - 1 };\r\n            } else {\r\n              return comment;\r\n            }\r\n          })\r\n        }\r\n      };\r\n\r\n    case commentConstants.GET_COMMENT_LIKES:\r\n      return {\r\n        ...state,\r\n        commentLikes: [...state.commentLikes, ...action.commentLikes]\r\n      };\r\n\r\n    case \"CLEAR_COMMENT_LIKES\":\r\n      return {\r\n        ...state,\r\n        commentLikes: []\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { commentConstants } from \"../_constants/commentConstants\";\r\n\r\nexport function replies(state = { commentLikes: [] }, action) {\r\n  switch (action.type) {\r\n    case commentConstants.FETCH_COMMENT_REPLIES_REQUEST:\r\n      return {\r\n        ...state,\r\n        [action.commentId]: {\r\n          ...state[action.commentId],\r\n          fetching: true\r\n        }\r\n      };\r\n\r\n    case commentConstants.FETCH_COMMENT_REPLIES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        [action.comment.commentId]: {\r\n          ...state[action.comment.commentId],\r\n          fetching: false,\r\n          comments: [\r\n            ...state[action.comment.commentId].comments,\r\n            ...action.comment.comments\r\n          ]\r\n        }\r\n      };\r\n\r\n    case commentConstants.INIT_REPLY_COMMENT:\r\n      if (!state[action.commentId]) {\r\n        return {\r\n          ...state,\r\n          [action.commentId]: {\r\n            fetching: false,\r\n            comments: []\r\n          }\r\n        };\r\n      } else {\r\n        return { ...state };\r\n      }\r\n\r\n    case commentConstants.ADD_REPLY_COMMENT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        [action.comment.commentAt]: {\r\n          ...state[action.comment.commentAt],\r\n          fetching: false,\r\n          comments: [\r\n            action.comment,\r\n            ...state[action.comment.commentAt].comments\r\n          ]\r\n        }\r\n      };\r\n\r\n    case commentConstants.LIKE_COMMENT_REPLY:\r\n      return {\r\n        ...state,\r\n        [action.comment.parentId]: {\r\n          ...state[action.comment.parentId],\r\n          comments: state[action.comment.parentId].comments.map(comment => {\r\n            if (comment._id === action.comment.commentId) {\r\n              return { ...comment, likes: comment.likes + 1 };\r\n            } else {\r\n              return comment;\r\n            }\r\n          })\r\n        }\r\n      };\r\n\r\n    case commentConstants.DISLIKE_COMMENT_REPLY:\r\n      return {\r\n        ...state,\r\n        [action.comment.parentId]: {\r\n          ...state[action.comment.parentId],\r\n          comments: state[action.comment.parentId].comments.map(comment => {\r\n            if (comment._id === action.comment.commentId) {\r\n              return { ...comment, likes: comment.likes - 1 };\r\n            } else {\r\n              return comment;\r\n            }\r\n          })\r\n        }\r\n      };\r\n\r\n    case commentConstants.GET_COMMENT_REPLY_LIKES:\r\n      return {\r\n        ...state,\r\n        commentLikes: [...state.commentLikes, ...action.commentLikes]\r\n      };\r\n\r\n    case \"CLEAR_COMMENT_REPLY_LIKES\":\r\n      return {\r\n        ...state,\r\n        commentLikes: []\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { notificationConstants } from \"../_constants/notificationConstants\";\r\nimport { userConstants } from \"../_constants/userConstants\";\r\n\r\nexport function notification(\r\n  state = {\r\n    isOpen: false,\r\n    notifications: [],\r\n    allNotificationsCount: 0\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case notificationConstants.FETCH_NOTIFICATIONS_SUCCESS:\r\n      if (action.initialFetch) {\r\n        return {\r\n          ...state,\r\n          notifications: action.notifications,\r\n          allNotificationsCount: action.total.count\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        notifications: [...state.notifications, ...action.notifications]\r\n      };\r\n\r\n    case notificationConstants.CLOSE_NOTIFICATION_POPUP:\r\n      return {\r\n        ...state,\r\n        isOpen: false\r\n      };\r\n    case notificationConstants.TOGGLE_NOTIFICATION_POPUP:\r\n      return {\r\n        ...state,\r\n        isOpen: !state.isOpen\r\n      };\r\n    case notificationConstants.ADD_NOTIFICATION:\r\n      return {\r\n        ...state,\r\n        notifications: [action.data.notification, ...state.notifications],\r\n        allNotificationsCount: state.allNotificationsCount + 1\r\n      };\r\n    case notificationConstants.READ_NOTIFICATIOS:\r\n      return {\r\n        ...state,\r\n        notifications: state.notifications.map(e => {\r\n          return {\r\n            ...e,\r\n            read: true\r\n          };\r\n        })\r\n      };\r\n    case userConstants.GETUSER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        allNotificationsCount: action.user.allNotifications\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { socketConstants } from \"../_constants/socketConstants\";\r\n\r\nexport function socket(state = {}, action) {\r\n  switch (action.type) {\r\n    case socketConstants.CONNECT:\r\n      return {\r\n        ...state,\r\n        socket: action.socket\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { chatConstants } from \"../_constants/chatConstants\";\r\n\r\nexport function chat(\r\n  state = {\r\n    rooms: [],\r\n    currentRoom: null,\r\n    roomsFetching: false,\r\n    roomId: null,\r\n    callingModal: false,\r\n    answeringModal: {\r\n      isOpen: false,\r\n    },\r\n    searchedRooms: null,\r\n  },\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case chatConstants.TYPING:\r\n      if (state[action.roomId]) {\r\n        return {\r\n          ...state,\r\n          [action.roomId]: {\r\n            ...state[action.roomId],\r\n            isTyping: true,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n    case chatConstants.STOPPED_TYPING:\r\n      if (state[action.roomId]) {\r\n        return {\r\n          ...state,\r\n          [action.roomId]: {\r\n            ...state[action.roomId],\r\n            isTyping: false,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n    case chatConstants.CHANGE_ROOM:\r\n      return {\r\n        ...state,\r\n        currentRoom: action.room,\r\n        roomId: action.room._id,\r\n      };\r\n    case chatConstants.INIT_MESSAGE_ARRAY:\r\n      if (!state[action.roomId]) {\r\n        return {\r\n          ...state,\r\n          [action.roomId]: {\r\n            messages: [],\r\n            initialMessagesFetchig: false,\r\n            messageFetching: false,\r\n            isTyping: false,\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n\r\n    case chatConstants.GET_ROOMS_REQUEST:\r\n      return {\r\n        ...state,\r\n        roomsFetching: true,\r\n      };\r\n    case chatConstants.GET_ROOMS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        rooms: action.rooms,\r\n        roomsFetching: false,\r\n      };\r\n    case chatConstants.ADD_NEW_ROOM:\r\n      return {\r\n        ...state,\r\n        rooms: [action.room, ...state.rooms],\r\n      };\r\n    case chatConstants.GET_MESSAGES_INITIAL_REQUEST:\r\n      return {\r\n        ...state,\r\n        [action.roomId]: {\r\n          ...state[action.roomId],\r\n          initialMessagesFetchig: true,\r\n        },\r\n      };\r\n    case chatConstants.GET_MESSAGES_REQUEST:\r\n      return {\r\n        ...state,\r\n        [action.roomId]: {\r\n          ...state[action.roomId],\r\n          messageFetching: true,\r\n        },\r\n      };\r\n    case chatConstants.GET_MESSAGES_SUCCESS:\r\n      let messages = action.data.messages;\r\n      let prev = null;\r\n\r\n      for (let i = 0; i < messages.length; i++) {\r\n        if (prev !== messages[i].sender) {\r\n          messages[i].picture = true;\r\n          prev = messages[i].sender;\r\n        } else {\r\n          messages[i].picture = false;\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        [action.data.roomId]: {\r\n          ...state[action.data.roomId],\r\n          messages: [\r\n            ...action.data.messages,\r\n            ...state[action.data.roomId].messages,\r\n          ],\r\n          messageFetching: false,\r\n          initialMessagesFetchig: false,\r\n        },\r\n      };\r\n    case chatConstants.SEND_MESSAGE_REQUEST:\r\n      let currentRoom = state.currentRoom;\r\n      if (currentRoom && state.currentRoom._id === action.message.roomId) {\r\n        currentRoom = {\r\n          ...state.currentRoom,\r\n          messages: state.currentRoom.messages + 1,\r\n        };\r\n      }\r\n\r\n      if (state[action.message.roomId]) {\r\n        const messages = state[action.message.roomId].messages;\r\n        if (!messages.length) action.message.picture = true;\r\n        else if (messages[messages.length - 1].sender !== action.message.sender)\r\n          action.message.picture = true;\r\n        else action.message.picture = false;\r\n\r\n        return {\r\n          ...state,\r\n          [action.message.roomId]: {\r\n            ...state[action.message.roomId],\r\n            messages: [\r\n              ...state[action.message.roomId].messages,\r\n              action.message,\r\n            ],\r\n          },\r\n          rooms: state.rooms.map((room) => {\r\n            if (room._id === action.message.roomId) {\r\n              return {\r\n                ...room,\r\n                messages: room.messages + 1,\r\n              };\r\n            } else {\r\n              return room;\r\n            }\r\n          }),\r\n          currentRoom,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n    case chatConstants.SEND_MESSAGE_SUCCESS:\r\n      if (state[action.message.roomId]) {\r\n        const index = state.rooms.findIndex(\r\n          (room) => room._id === action.message.roomId\r\n        );\r\n        const newRoom = state.rooms[index];\r\n\r\n        const messages = state[action.message.roomId].messages;\r\n        if (messages.length <= 1) action.message.picture = true;\r\n        else if (messages[messages.length - 2].sender !== action.message.sender)\r\n          action.message.picture = true;\r\n        else action.message.picture = false;\r\n\r\n        return {\r\n          ...state,\r\n          [action.message.roomId]: {\r\n            ...state[action.message.roomId],\r\n            messages: state[action.message.roomId].messages.map((message) => {\r\n              if (message.uuid === action.message.uuid) {\r\n                return action.message;\r\n              } else {\r\n                return message;\r\n              }\r\n            }),\r\n          },\r\n          rooms: [\r\n            {\r\n              ...newRoom,\r\n              //messages: newRoom.messages + 1,\r\n              lastMessage: [action.message],\r\n            },\r\n            ...state.rooms.filter((room) => room._id !== action.message.roomId),\r\n          ],\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n    case chatConstants.NEW_MESSAGE:\r\n      if (state[action.message.roomId]) {\r\n        const index = state.rooms.findIndex(\r\n          (room) => room._id === action.message.roomId\r\n        );\r\n        const newRoom = state.rooms[index];\r\n\r\n        const messages = state[action.message.roomId].messages;\r\n        if (!messages.length) action.message.picture = true;\r\n        else if (messages[messages.length - 1].sender !== action.message.sender)\r\n          action.message.picture = true;\r\n        else action.message.picture = false;\r\n\r\n        let currentRoom = state.currentRoom;\r\n        if (currentRoom && state.currentRoom._id === action.message.roomId) {\r\n          currentRoom = {\r\n            ...state.currentRoom,\r\n            messages: state.currentRoom.messages + 1,\r\n          };\r\n        }\r\n        return {\r\n          ...state,\r\n          [action.message.roomId]: {\r\n            ...state[action.message.roomId],\r\n            messages: [\r\n              ...state[action.message.roomId].messages,\r\n              action.message,\r\n            ],\r\n          },\r\n          currentRoom,\r\n          rooms: [\r\n            {\r\n              ...newRoom,\r\n              messages: newRoom.messages + 1,\r\n              lastMessage: [action.message],\r\n            },\r\n            ...state.rooms.filter((room) => room._id !== action.message.roomId),\r\n          ],\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n    case chatConstants.READ_MESSAGES:\r\n      return {\r\n        ...state,\r\n        [action.roomId]: {\r\n          ...state[action.roomId],\r\n          messages: state[action.roomId].messages.map((message) => {\r\n            if (action.messageIds.includes(message._id)) {\r\n              return {\r\n                ...message,\r\n                read: true,\r\n              };\r\n            } else {\r\n              return {\r\n                ...message,\r\n              };\r\n            }\r\n          }),\r\n        },\r\n      };\r\n    case chatConstants.CHANGE_ACTIVITY_STATUS:\r\n      return {\r\n        ...state,\r\n        rooms: state.rooms.map((room) => {\r\n          if (room.members[0]._id === action.user.user) {\r\n            room.members[0].activityStatus = action.user.activityStatus;\r\n            return {\r\n              ...room,\r\n            };\r\n          } else if (room.members[1]._id === action.user.user) {\r\n            room.members[1].activityStatus = action.user.activityStatus;\r\n            return {\r\n              ...room,\r\n            };\r\n          } else {\r\n            return {\r\n              ...room,\r\n            };\r\n          }\r\n        }),\r\n      };\r\n    case chatConstants.RECEIVE_READ_MESSAGES:\r\n      if (state[action.data.roomId]) {\r\n        return {\r\n          ...state,\r\n          [action.data.roomId]: {\r\n            ...state[action.data.roomId],\r\n            messages: state[action.data.roomId].messages.map((message) => {\r\n              if (action.data.messageIds.includes(message._id)) {\r\n                return {\r\n                  ...message,\r\n                  read: true,\r\n                };\r\n              } else {\r\n                return {\r\n                  ...message,\r\n                };\r\n              }\r\n            }),\r\n          },\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n    case chatConstants.OPEN_CALLING_MODAL:\r\n      return {\r\n        ...state,\r\n        callingModal: true,\r\n      };\r\n    case chatConstants.CLOSE_CALLING_MODAL:\r\n      return {\r\n        ...state,\r\n        callingModal: false,\r\n      };\r\n    case chatConstants.OPEN_ANSWERING_MODAL:\r\n      return {\r\n        ...state,\r\n        answeringModal: {\r\n          ...state.answeringModal,\r\n          isOpen: true,\r\n          webRtc: {\r\n            ...state.webRtc,\r\n            ...action.data.webRtc,\r\n          },\r\n          caller: {\r\n            ...state.caller,\r\n            ...action.data.caller,\r\n          },\r\n          room: {\r\n            ...state.room,\r\n            ...action.data.room,\r\n          },\r\n        },\r\n      };\r\n    case chatConstants.CLOSE_ANSWERING_MODAL:\r\n      return {\r\n        ...state,\r\n        answeringModal: {\r\n          ...state.answeringModal,\r\n          isOpen: false,\r\n          webRtc: {},\r\n          caller: {},\r\n          room: {},\r\n        },\r\n      };\r\n    case chatConstants.SEARCH_USERS:\r\n      return {\r\n        ...state,\r\n        searchedRooms: action.rooms,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n//import { createLogger } from \"redux-logger\";\r\n\r\nconst initialState = {};\r\n\r\n//const loggerMiddleware = createLogger();\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware)\r\n    //window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { App } from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","export const chatConstants = {\r\n  CHANGE_ROOM: \"CHANGE_ROOM\",\r\n  INIT_MESSAGE_ARRAY: \"INIT_MESSAGE_ARRAY\",\r\n  NEW_MESSAGE: \"NEW_MESSAGE\",\r\n  READ_MESSAGES: \"READ_MESSAGES\",\r\n  RECEIVE_READ_MESSAGES: \"RECEIVE_READ_MESSAGES\",\r\n  CHANGE_ACTIVITY_STATUS: \"CHANGE_ACTIVITY_STATUS\",\r\n  ADD_NEW_ROOM: \"ADD_NEW_ROOM\",\r\n  INC_MESSAGE_COUNT: \"INC_MESSAGE_COUNT\",\r\n  SEARCH_USERS: \"SEARCH_USERS\",\r\n\r\n  OPEN_CALLING_MODAL: \"OPEN_CALLING_MODAL\",\r\n  CLOSE_CALLING_MODAL: \"CLOSE_CALLING_MODAL\",\r\n\r\n  NEW_ANSWER: \"NEW_ANSWER\",\r\n\r\n  OPEN_ANSWERING_MODAL: \"OPEN_ANSWERING_MODAL\",\r\n  CLOSE_ANSWERING_MODAL: \"CLOSE_ANSWERING_MODAL\",\r\n\r\n  TYPING: \"TYPING\",\r\n  STOPPED_TYPING: \"STOPPED_TYPING\",\r\n\r\n  GET_ROOMS_REQUEST: \"GET_ROOMS_REQUEST\",\r\n  GET_ROOMS_SUCCESS: \"GET_ROOMS_SUCCESS\",\r\n\r\n  GET_MESSAGES_INITIAL_REQUEST: \"GET_MESSAGES_INITIAL_REQUEST\",\r\n  GET_MESSAGES_REQUEST: \"GET_MESSAGES_REQUEST\",\r\n  GET_MESSAGES_SUCCESS: \"GET_MESSAGES_SUCCESS\",\r\n\r\n  SEND_MESSAGE_REQUEST: \"SEND_MESSAGE_REQUEST\",\r\n  SEND_MESSAGE_SUCCESS: \"SEND_MESSAGE_SUCCESS\",\r\n\r\n  NEW_IMAGE_MESSAGE_REQUEST: \"NEW_IMAGE_MESSAGE_REQUEST\",\r\n  NEW_IMAGE_MESSAGE_SUCCESS: \"NEW_IMAGE_MESSAGE_SUCCESS\"\r\n};\r\n","export const commentConstants = {\r\n  POSTS_REQUEST: \"POSTS_REQUEST\",\r\n  POSTS_SUCCESS: \"POSTS_SUCCESS\",\r\n  POSTS_FAILURE: \"POSTS_FAILURE\",\r\n\r\n  FETCH_COMMENTS_REQUEST: \"FETCH_COMMENTS_REQUEST\",\r\n  FETCH_COMMENTS_SUCCESS: \"FETCH_COMMENTS_SUCCESS\",\r\n  FETCH_COMMENTS_FAILURE: \"FETCH_COMMENTS_FAILURE\",\r\n\r\n  POST_DELETE_REQUEST: \"POSTS_DELETE_REQUEST\",\r\n  POST_DELETE_SUCCESS: \"POSTS_DELETE_SUCCESS\",\r\n  POST_DELETE_FAILURE: \"POSTS_DELETE_FAILURE\",\r\n\r\n  INIT_REPLY_COMMENT: \"INIT_REPLY_COMMENT\",\r\n  ADD_REPLY_COMMENT_SUCCESS: \"ADD_REPLY_COMMENT_SUCCESS\",\r\n  ADD_REPLY_COMMENT_FAILURE: \"ADD_REPLY_COMMENT_FAILURE\",\r\n\r\n  FETCH_COMMENT_REPLIES_REQUEST: \"FETCH_COMMENT_REPLIES_REQUEST\",\r\n  FETCH_COMMENT_REPLIES_SUCCESS: \"FETCH_COMMENT_REPLIES_SUCCESS\",\r\n  FETCH_COMMENT_REPLIES_FAILURE: \"FETCH_COMMENT_REPLIES_FAILURE\",\r\n\r\n  INCREASE_REPLIES_NUMBER: \"INCREASE_REPLIES_NUMBER\",\r\n\r\n  ADD_COMMENT_REQUEST: \"ADD_COMMENT_REQUEST\",\r\n  ADD_COMMENT_SUCCESS: \"ADD_COMMENT_SUCCESS\",\r\n  ADD_COMMENT_FAILURE: \"ADD_COMMENT_FAILURE\",\r\n\r\n  DISLIKE_COMMENT: \"DISLIKE_COMMENT\",\r\n  LIKE_COMMENT: \"LIKE_COMMENT\",\r\n\r\n  LIKE_COMMENT_REPLY: \"LIKE_COMMENT_REPLY\",\r\n  DISLIKE_COMMENT_REPLY: \"DISLIKE_COMMENT_REPLY\",\r\n\r\n  NEW_POST: \"NEW_POST\",\r\n  GET_COMMENT_LIKES: \"GET_COMMENT_LIKES\",\r\n  GET_COMMENT_REPLY_LIKES: \"GET_COMMENT_REPLY_LIKES\"\r\n};\r\n","export const notificationConstants = {\r\n  TOGGLE_NOTIFICATION_POPUP: \"TOGGLE_NOTIFICATION_POPUP\",\r\n  CLOSE_NOTIFICATION_POPUP: \"CLOSE_NOTIFICATION_POPUP\",\r\n  ADD_NOTIFICATION: \"ADD_NOTIFICATION\",\r\n  READ_NOTIFICATIOS: \"READ_NOTIFICATIOS\",\r\n  FETCH_NOTIFICATIONS_REQUEST: \"FETCH_NOTIFICATIONS_REQUEST\",\r\n  FETCH_NOTIFICATIONS_SUCCESS: \"FETCH_NOTIFICATIONS_SUCCESS\"\r\n};\r\n"],"sourceRoot":""}